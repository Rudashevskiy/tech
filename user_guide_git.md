# 1. Руководство пользователя Git для начинающих

Добро пожаловать в руководство по Git! Этот документ предназначен для начинающих разработчиков, которые хотят освоить основы системы контроля версий Git. Здесь вы найдете введение в Git, объяснение основных команд, сценарии использования, наиболее распространенные ошибки и информацию о действиях, которые могут привести к необратимым изменениям.

- [1. Руководство пользователя Git для начинающих](#1-руководство-пользователя-git-для-начинающих)
  - [1.1. Введение](#11-введение)
    - [1.1.1. Что такое Git?](#111-что-такое-git)
    - [1.1.2. Зачем использовать Git?](#112-зачем-использовать-git)
    - [1.1.3. Основные концепции Git](#113-основные-концепции-git)
  - [1.2. Список команд с объяснениями](#12-список-команд-с-объяснениями)
    - [1.2.1. Настройка Git](#121-настройка-git)
    - [1.2.2. Основные команды](#122-основные-команды)
  - [1.3. Сценарии использования](#13-сценарии-использования)
    - [1.3.1. 3.1 Создание ветки](#131-31-создание-ветки)
    - [1.3.2. 3.2 Загрузка изменений (Push)](#132-32-загрузка-изменений-push)
    - [1.3.3. 3.3 Обработка конфликтов при слиянии](#133-33-обработка-конфликтов-при-слиянии)
  - [1.4. Самые частые ошибки](#14-самые-частые-ошибки)
    - [1.4.1. 4.1 Несохраненные изменения при переключении веток](#141-41-несохраненные-изменения-при-переключении-веток)
    - [1.4.2. 4.2 Отсутствие доступа к удаленному репозиторию](#142-42-отсутствие-доступа-к-удаленному-репозиторию)
    - [1.4.3. 4.3 Неправильный коммит (коммит не содержит ожидаемых изменений)](#143-43-неправильный-коммит-коммит-не-содержит-ожидаемых-изменений)
    - [1.4.4. 4.4 Удаление нужных файлов](#144-44-удаление-нужных-файлов)
  - [1.5. Действия, которые могут что-то сломать необратимо](#15-действия-которые-могут-что-то-сломать-необратимо)
    - [1.5.1. 5.1 Использование `git push -f`](#151-51-использование-git-push--f)
    - [1.5.2. 5.2 Переписывание истории с помощью `git rebase` на публичных ветках](#152-52-переписывание-истории-с-помощью-git-rebase-на-публичных-ветках)
    - [1.5.3. 5.3 Удаление веток без проверки](#153-53-удаление-веток-без-проверки)
    - [1.5.4. 5.4 Использование `git reset --hard`](#154-54-использование-git-reset---hard)
  - [1.6. Заключение](#16-заключение)
    - [1.6.1. Рекомендации для дальнейшего обучения](#161-рекомендации-для-дальнейшего-обучения)
    - [1.6.2. Полезные инструменты](#162-полезные-инструменты)

## 1.1. Введение

### 1.1.1. Что такое Git?

Git — это распределенная система контроля версий, разработанная для отслеживания изменений в исходном коде при разработке программного обеспечения. Она позволяет нескольким разработчикам работать над одним проектом одновременно, сохраняя историю всех изменений и обеспечивая инструменты для объединения этих изменений.

### 1.1.2. Зачем использовать Git?

- Отслеживание изменений: Позволяет видеть, кто, когда и какие изменения внес в проект.
- Совместная работа: Упрощает работу нескольких человек над одним проектом.
- Восстановление: Возможность возврата к предыдущим версиям проекта.
- Разветвление: Позволяет создавать параллельные ветки разработки для новых функций или исправлений.

### 1.1.3. Основные концепции Git

- Репозиторий: Место, где хранится ваш проект вместе с историей изменений.
- Коммит: Единица фиксации изменений в репозитории.
- Ветка: Отдельная линия разработки, позволяющая работать над различными функциями или исправлениями параллельно.
- Слияние (merge): Объединение изменений из одной ветки в другую.
- Отдаленный репозиторий: Репозиторий, расположенный на сервере или в облаке, который используется для совместной работы.

---

## 1.2. Список команд с объяснениями

### 1.2.1. Настройка Git

Перед началом работы необходимо настроить основные параметры Git:
```
git config --global user.name "Ваше Имя"
```
```
git config --global user.email "ваш.email@example.com"
```

### 1.2.2. Основные команды

- Инициализация репозитория

  ```
  git init
  ```

  Создает новый локальный репозиторий Git в текущей директории.

- Клонирование репозитория

  ```
  git clone <url_репозитория>
  ```

  Создает копию существующего репозитория из удаленного источника.

- Просмотр статуса репозитория

  ```
  git status
  ```

  Показывает статус файлов в репозитории: изменения, готовые для коммита, неотслеживаемые файлы и т.д.

- Добавление изменений в индекс

  ```
  git add <файл>
  ```
  ```
  git add .
  ```

  Добавляет изменения файлов в индекс (staging area), подготавливая их для коммита.

- Создание коммита

  ```
  git commit -m "Описание изменений"
  ```

  Фиксирует добавленные изменения с сообщением, описывающим внесенные изменения.

- Просмотр истории коммитов

  ```
  git log
  ```

  Отображает список всех коммитов в текущей ветке.

- Создание новой ветки

  ```
  git branch <имя_ветки>
  ```

  Создает новую ветку без переключения на нее.

- Переключение на другую ветку

  ```
  git checkout <имя_ветки>
  ```

  Переключает текущую рабочую ветку на указанную.

  Либо комбинация создания и переключения:

  ```
  git checkout -b <имя_ветки>
  ```

- Слияние веток

  ```
  git merge <имя_ветки>
  ```

  Объединяет указанную ветку с текущей.

- Просмотр всех веток

  ```
  git branch
  ```

  Показывает список всех локальных веток.

- Отправка изменений в удаленный репозиторий

  ```
  git push origin <имя_ветки>
  ```

  Отправляет коммиты текущей ветки в удаленный репозиторий.

- Получение изменений из удаленного репозитория

  ```
  git pull
  ```

  Получает и автоматически сливает изменения из удаленного репозитория в текущую ветку.

- Просмотр различий между версиями

  ```
  git diff
  ```

  Показывает различия между рабочей директорией и индексом.

- Удаление ветки

  ```
  git branch -d <имя_ветки>
  ```

  Удаляет указанную ветку.

---

## 1.3. Сценарии использования

### 1.3.1. 3.1 Создание ветки

Создание ветки позволяет работать над новой функцией или исправлением ошибки без влияния на основную кодовую базу.

```bash
git checkout -b feature/new-feature
```

- `checkout -b` — создает и сразу переключается на новую ветку `feature/new-feature`.

После завершения работы над функцией, можно слить ветку с основной:

```bash
git checkout main
git merge feature/new-feature
```

### 1.3.2. 3.2 Загрузка изменений (Push)

Отправка локальных коммитов в удаленный репозиторий для совместной работы с другими разработчиками.

```bash
git push origin main
```

- `origin` — имя удаленного репозитория.
- `main` — имя ветки, которую отправляем.

### 1.3.3. 3.3 Обработка конфликтов при слиянии

Конфликты возникают, когда изменения в двух ветках противоречат друг другу.

**Шаги для разрешения конфликтов:**

1. **Попытка слияния:**

   ```bash
   git merge feature/some-feature
   ```

2. **Если возникают конфликты, Git уведомит вас о файлах с конфликтами.**

3. **Откройте конфликтующие файлы и исправьте конфликты вручную.** Конфликты обозначены специальными маркерами `<<<<<<<`, `=======`, `>>>>>>>`.

4. **После разрешения конфликтов добавьте файлы в индекс:**

   ```bash
   git add <файл>
   ```

5. **Завершите слияние коммитом:**

   ```bash
   git commit -m "Разрешены конфликты при слиянии feature/some-feature"
   ```

---

## 1.4. Самые частые ошибки

### 1.4.1. 4.1 Несохраненные изменения при переключении веток

**Ошибка:**

```bash
error: Your local changes to the following files would be overwritten by checkout:
```

**Решение:**

- **Сохраните изменения с помощью коммита:**

  ```bash
  git add .
  git commit -m "Сохранение изменений перед переключением ветки"
  ```

- **Или временно отложите изменения с помощью `stash`:**

  ```bash
  git stash
  git checkout <ветка>
  git stash pop
  ```

### 1.4.2. 4.2 Отсутствие доступа к удаленному репозиторию

**Ошибка:**

```bash
fatal: Could not read from remote repository.
```

**Решение:**

- Убедитесь, что у вас есть правильные права доступа.
- Проверьте правильность URL удаленного репозитория.
- Проверьте настройки SSH или HTTPS (в зависимости от используемого протокола).

### 1.4.3. 4.3 Неправильный коммит (коммит не содержит ожидаемых изменений)

**Возможные причины:**

- Файлы не были добавлены в индекс (`git add`).
- Вы добавили не те файлы.

**Решение:**

- Проверьте статус репозитория:

  ```bash
  git status
  ```

- Добавьте необходимые файлы:

  ```bash
  git add <файл>
  ```

- Создайте коммит снова:

  ```bash
  git commit -m "Корректные изменения"
  ```

### 1.4.4. 4.4 Удаление нужных файлов

**Ошибка:**

Файлы были случайно удалены.

**Решение:**

- Проверьте, были ли изменения закоммичены:
  
  ```bash
  git log
  ```

- Восстановите файлы из последнего коммита:

  ```bash
  git checkout -- <файл>
  ```

---

## 1.5. Действия, которые могут что-то сломать необратимо

### 1.5.1. 5.1 Использование `git push -f`

Команда `git push -f` (force push) перезаписывает историю ветки в удаленном репозитории, что может привести к потере работы других разработчиков.

**Когда следует использовать:**

- **Переписывание истории локальной ветки с уверенностью, что никто другой не работает с этой веткой.**

**Как избежать проблем:**

- **Используйте `--force-with-lease` вместо `--force`:**

  ```bash
  git push --force-with-lease
  ```

  Эта опция позволяет выполнить принудительную отправку только если удаленная ветка не была изменена другими пользователями.

- **Сообщайте команде** перед выполнением принудительной отправки, чтобы предотвратить конфликты.

### 1.5.2. 5.2 Переписывание истории с помощью `git rebase` на публичных ветках

Использование `git rebase` для изменения истории коммитов публичных веток может вызвать проблемы для других разработчиков, работающих с этими ветками.

**Как избежать проблем:**

- **Используйте `git rebase` только для личных рабочих веток.**
- **Избегайте изменения общей истории, которая уже была отправлена в удаленный репозиторий.**

### 1.5.3. 5.3 Удаление веток без проверки

Неосторожное удаление веток может привести к потере важных изменений.

**Команда для удаления ветки:**

```bash
git branch -d <имя_ветки>
```

Если ветка не была слита, используйте принудительное удаление:

```bash
git branch -D <имя_ветки>
```

**Как избежать проблем:**

- **Убедитесь, что ветка слита или изменения в ней больше не нужны.**
- **Сделайте резервную копию ветки перед удалением:**

  ```bash
  git branch backup/<имя_ветки>
  ```

### 1.5.4. 5.4 Использование `git reset --hard`

Команда `git reset --hard` сбрасывает текущую ветку к указанному коммиту, удаляя все несохраненные изменения.

**Как избежать проблем:**

- **Избегайте использования `--hard`, если не уверены в последствиях.**
- **Используйте `git stash` для сохранения изменений перед сбросом:**

  ```bash
  git stash
  git reset --hard <коммит>
  git stash pop
  ```

- **Используйте `git reset` без `--hard`, чтобы сохранить изменения в рабочей директории.**

---

## 1.6. Заключение

Git — мощный инструмент для контроля версий, который значительно упрощает совместную разработку и управление проектами. В этом руководстве мы рассмотрели основные команды, сценарии использования, частые ошибки и опасные действия. Освоив эти основы, вы будете готовы эффективно использовать Git в своих проектах.

### 1.6.1. Рекомендации для дальнейшего обучения

- **Официальная документация Git**: [https://git-scm.com/doc](https://git-scm.com/doc)
- **Интерактивные курсы**:
  - [Try Git](https://try.github.io/)
  - [GitHub Learning Lab](https://lab.github.com/)
- **Книги**:
  - "Pro Git" Скотта Чакона и Бена Страуба (доступна бесплатно онлайн)

### 1.6.2. Полезные инструменты

- **Git GUI клиенты**:
  - [GitKraken](https://www.gitkraken.com/)
  - [Sourcetree](https://www.sourcetreeapp.com/)
  - [GitHub Desktop](https://desktop.github.com/)
- **Интеграция с IDE**:
  - Git поддерживается во многих IDE, таких как Visual Studio Code, IntelliJ IDEA, PyCharm и др.

---

Удачи в освоении Git! Помните, что практика — лучший способ стать уверенным пользователем этой системы контроля версий.